{"ast":null,"code":"import { $authHost } from \"../../../AuthPage/modules/services/http.user\";\nexport async function getHabits(userId) {\n  try {\n    if (typeof userId !== \"undefined\") {\n      const {\n        data\n      } = await $authHost.get(process.env.REACT_APP_API + `/habits/?userId=${userId}`);\n\n      // const newData = data.map(habit => {\n      //   return (\n      //       habit.dates?.map(date => {\n      //         return new Date(date).toLocaleDateString();\n      //       })\n      //   )\n      // })\n\n      const newData = data.map(habit => {\n        var _habit$dates;\n        habit.dates = (_habit$dates = habit.dates) === null || _habit$dates === void 0 ? void 0 : _habit$dates.map(date => {\n          return new Date(date).toLocaleDateString();\n        });\n      });\n      return newData;\n    }\n  } catch (error) {\n    if (error instanceof Error) {\n      return error.message;\n    }\n  }\n}\nexport async function createHabit(post) {\n  try {\n    const {\n      data\n    } = await $authHost.post(process.env.REACT_APP_API + `/habits`, post);\n    return data;\n  } catch (error) {\n    if (error instanceof Error) {\n      return error.message;\n    }\n  }\n}\nexport async function patchAddDateToHabit(habitId, date) {\n  try {\n    const {\n      data\n    } = await $authHost.patch(process.env.REACT_APP_API + `/habits`, {\n      habitId,\n      date\n    });\n    return data;\n  } catch (error) {\n    if (error instanceof Error) {\n      return error.message;\n    }\n  }\n}\nexport async function patchDeleteDateFromHabit(habitId, date) {\n  try {\n    const {\n      data\n    } = await $authHost.patch(process.env.REACT_APP_API + `/habits/${habitId}`, date);\n    return data;\n  } catch (error) {\n    if (error instanceof Error) {\n      return error.message;\n    }\n  }\n}","map":{"version":3,"names":["$authHost","getHabits","userId","data","get","process","env","REACT_APP_API","newData","map","habit","dates","date","Date","toLocaleDateString","error","Error","message","createHabit","post","patchAddDateToHabit","habitId","patch","patchDeleteDateFromHabit"],"sources":["/Users/serzhivanov/Desktop/Coding/Projects/myweb/client/src/pages/HabitsPage/modules/services/habitAPI.ts"],"sourcesContent":["import { $authHost } from \"../../../AuthPage/modules/services/http.user\";\nimport { IHabit } from \"../interfaces/Habits.interfaces\";\n\nexport async function getHabits(userId: string): Promise<IHabit[] | undefined | string> {\n    try {\n      if(typeof userId !== \"undefined\") {\n        const { data } = await $authHost.get<IHabit[]>(process.env.REACT_APP_API + `/habits/?userId=${userId}`);\n        \n        // const newData = data.map(habit => {\n        //   return (\n        //       habit.dates?.map(date => {\n        //         return new Date(date).toLocaleDateString();\n        //       })\n        //   )\n        // })\n\n        const newData = data.map(habit => {\n\n          habit.dates = habit.dates?.map(date => {\n            return (\n              new Date(date).toLocaleDateString()\n            )\n          })\n        })\n\n        return newData\n      }\n    } catch (error) {\n      if (error instanceof Error) {\n        return error.message\n      }      \n    }\n}\n\nexport async function createHabit(post: IHabit) {\n  try {\n    const { data } = await $authHost.post<IHabit>(process.env.REACT_APP_API + `/habits`, post);\n    return data;\n  } catch (error) {\n    if (error instanceof Error) {\n      return error.message\n    }   \n  }\n\n\n}\n\nexport async function patchAddDateToHabit(habitId: string, date: string) {\n  try {\n    const { data } = await $authHost.patch<IHabit>(process.env.REACT_APP_API + `/habits`, {habitId, date});    \n    return data;\n  } catch (error) {\n    if (error instanceof Error) {\n      return error.message\n    }   \n  }\n}\n\nexport async function patchDeleteDateFromHabit(habitId: string, date: string) {\n  try {\n    const { data } = await $authHost.patch<IHabit>(process.env.REACT_APP_API + `/habits/${habitId}`, date);\n    return data;\n  } catch (error) {\n    if (error instanceof Error) {\n      return error.message\n    }   \n  }\n}"],"mappings":"AAAA,SAASA,SAAS,QAAQ,8CAA8C;AAGxE,OAAO,eAAeC,SAAS,CAACC,MAAc,EAA0C;EACpF,IAAI;IACF,IAAG,OAAOA,MAAM,KAAK,WAAW,EAAE;MAChC,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMH,SAAS,CAACI,GAAG,CAAWC,OAAO,CAACC,GAAG,CAACC,aAAa,GAAI,mBAAkBL,MAAO,EAAC,CAAC;;MAEvG;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA,MAAMM,OAAO,GAAGL,IAAI,CAACM,GAAG,CAACC,KAAK,IAAI;QAAA;QAEhCA,KAAK,CAACC,KAAK,mBAAGD,KAAK,CAACC,KAAK,iDAAX,aAAaF,GAAG,CAACG,IAAI,IAAI;UACrC,OACE,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,kBAAkB,EAAE;QAEvC,CAAC,CAAC;MACJ,CAAC,CAAC;MAEF,OAAON,OAAO;IAChB;EACF,CAAC,CAAC,OAAOO,KAAK,EAAE;IACd,IAAIA,KAAK,YAAYC,KAAK,EAAE;MAC1B,OAAOD,KAAK,CAACE,OAAO;IACtB;EACF;AACJ;AAEA,OAAO,eAAeC,WAAW,CAACC,IAAY,EAAE;EAC9C,IAAI;IACF,MAAM;MAAEhB;IAAK,CAAC,GAAG,MAAMH,SAAS,CAACmB,IAAI,CAASd,OAAO,CAACC,GAAG,CAACC,aAAa,GAAI,SAAQ,EAAEY,IAAI,CAAC;IAC1F,OAAOhB,IAAI;EACb,CAAC,CAAC,OAAOY,KAAK,EAAE;IACd,IAAIA,KAAK,YAAYC,KAAK,EAAE;MAC1B,OAAOD,KAAK,CAACE,OAAO;IACtB;EACF;AAGF;AAEA,OAAO,eAAeG,mBAAmB,CAACC,OAAe,EAAET,IAAY,EAAE;EACvE,IAAI;IACF,MAAM;MAAET;IAAK,CAAC,GAAG,MAAMH,SAAS,CAACsB,KAAK,CAASjB,OAAO,CAACC,GAAG,CAACC,aAAa,GAAI,SAAQ,EAAE;MAACc,OAAO;MAAET;IAAI,CAAC,CAAC;IACtG,OAAOT,IAAI;EACb,CAAC,CAAC,OAAOY,KAAK,EAAE;IACd,IAAIA,KAAK,YAAYC,KAAK,EAAE;MAC1B,OAAOD,KAAK,CAACE,OAAO;IACtB;EACF;AACF;AAEA,OAAO,eAAeM,wBAAwB,CAACF,OAAe,EAAET,IAAY,EAAE;EAC5E,IAAI;IACF,MAAM;MAAET;IAAK,CAAC,GAAG,MAAMH,SAAS,CAACsB,KAAK,CAASjB,OAAO,CAACC,GAAG,CAACC,aAAa,GAAI,WAAUc,OAAQ,EAAC,EAAET,IAAI,CAAC;IACtG,OAAOT,IAAI;EACb,CAAC,CAAC,OAAOY,KAAK,EAAE;IACd,IAAIA,KAAK,YAAYC,KAAK,EAAE;MAC1B,OAAOD,KAAK,CAACE,OAAO;IACtB;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}