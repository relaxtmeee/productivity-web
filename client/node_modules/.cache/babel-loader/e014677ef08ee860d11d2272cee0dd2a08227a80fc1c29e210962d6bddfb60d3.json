{"ast":null,"code":"var _jsxFileName = \"/Users/serzhivanov/Desktop/Coding/Projects/myweb/client/src/pages/TodosPage/modules/components/Todos/Todos.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useTypedSelector } from '../../../../../store/selectorTypedHook';\nimport { fetchCategories } from '../../../../../store/todosSlice';\nimport Button from '../../../../../ui/Button/Button';\nimport { ErrorMessage } from '../../../../../ui/Error/ErrorBoundary';\nimport Input from '../../../../../ui/Input/Input';\nimport PTag from '../../../../../ui/PTag/PTag';\nimport Spinner from '../../../../../ui/Spinner/Spinner';\nimport WarningAuth from '../../../../../ui/WarningAuth/WarningAuth';\nimport styles from './Todos.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Todos = () => {\n  _s();\n  const userId = useTypedSelector(state => {\n    var _state$user$user;\n    return (_state$user$user = state.user.user) === null || _state$user$user === void 0 ? void 0 : _state$user$user.id;\n  });\n  const loading = useTypedSelector(state => state.todos.postsLoadingStatus);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (typeof userId !== 'undefined') {\n      dispatch(fetchCategories(userId));\n    }\n  }, []);\n  if (loading === 'pending') {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n  if (loading === 'failed') {\n    return /*#__PURE__*/_jsxDEV(ErrorMessage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 16\n    }, this);\n  }\n  if (!userId) {\n    return /*#__PURE__*/_jsxDEV(WarningAuth, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.todos,\n    children: [/*#__PURE__*/_jsxDEV(PTag, {\n      size: \"18\",\n      children: \"Categories\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TodosGeneration, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: styles.button,\n      children: \"Add category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(Todos, \"EaWpqtdxpgLVoQLox26+/8n3i7Q=\", false, function () {\n  return [useTypedSelector, useTypedSelector, useDispatch];\n});\n_c = Todos;\nconst TodosGeneration = () => {\n  _s2();\n  const categories = useTypedSelector(state => state.todos.categories);\n  const openProject = id => {\n    console.log(id);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: categories === null || categories === void 0 ? void 0 : categories.map(category => {\n      return /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          var _category$id;\n          return openProject((_category$id = category.id) !== null && _category$id !== void 0 ? _category$id : '');\n        },\n        className: styles.category,\n        children: category.name\n      }, category.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this);\n    })\n  }, void 0, false);\n};\n_s2(TodosGeneration, \"KRV5WFziyfdMBLS4AhhnQA9p764=\", false, function () {\n  return [useTypedSelector];\n});\n_c2 = TodosGeneration;\nexport default Todos;\nvar _c, _c2;\n$RefreshReg$(_c, \"Todos\");\n$RefreshReg$(_c2, \"TodosGeneration\");","map":{"version":3,"names":["useEffect","useDispatch","useTypedSelector","fetchCategories","Button","ErrorMessage","Input","PTag","Spinner","WarningAuth","styles","Todos","userId","state","user","id","loading","todos","postsLoadingStatus","dispatch","button","TodosGeneration","categories","openProject","console","log","map","category","name"],"sources":["/Users/serzhivanov/Desktop/Coding/Projects/myweb/client/src/pages/TodosPage/modules/components/Todos/Todos.tsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { useTypedSelector } from '../../../../../store/selectorTypedHook';\nimport { AppDispatch } from '../../../../../store/store';\nimport { fetchCategories } from '../../../../../store/todosSlice';\nimport Button from '../../../../../ui/Button/Button';\nimport { ErrorMessage } from '../../../../../ui/Error/ErrorBoundary';\nimport Input from '../../../../../ui/Input/Input';\nimport PTag from '../../../../../ui/PTag/PTag';\nimport Spinner from '../../../../../ui/Spinner/Spinner';\nimport WarningAuth from '../../../../../ui/WarningAuth/WarningAuth';\nimport styles from './Todos.module.css';\n\nconst Todos: React.FC = ():JSX.Element => {\n\n    const userId = useTypedSelector(state => state.user.user?.id);\n    const loading = useTypedSelector(state => state.todos.postsLoadingStatus);\n\n    const dispatch = useDispatch<AppDispatch>();\n\n    useEffect(() => {\n        if ( typeof userId !== 'undefined') {\n            dispatch(fetchCategories(userId));\n        }\n    }, []);\n\n\n    if(loading === 'pending') {\n        return <>\n            <Spinner/>\n        </>\n    } \n\n    if(loading === 'failed') {\n        return <ErrorMessage />\n    }\n    \n    if(!userId) {\n        return <WarningAuth />\n    }\n\n    return (\n        <div className={styles.todos}>\n            <PTag size='18'>Categories</PTag>\n            <TodosGeneration />\n            <Input/>\n            <Button className={styles.button}>\n                Add category\n            </Button>\n        </div>\n    );\n};\n\nconst TodosGeneration = (): JSX.Element => {\n    \n    const categories = useTypedSelector(state => state.todos.categories);\n\n    const openProject = (id: string) => {\n        console.log(id);\n        \n    }\n\n    return (\n        <>  \n            {categories?.map(category => {\n                return (\n                    <Button onClick={() => openProject(category.id ?? '')} className={styles.category} key={category.id}>\n                        {category.name}\n                    </Button>\n                )\n            })}\n        </>\n    )\n}\n\nexport default Todos;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}